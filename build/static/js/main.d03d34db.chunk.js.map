{"version":3,"sources":["assets/logo2.png","components/Settings.js","api.js","utils/useFormValidation.js","utils/validateAuth.js","components/SignUpWindow.js","components/LoginWindow.js","components/NavigationBar.js","utils/useRecipeFormValidation.js","utils/validateRecipeForm.js","components/CreateRecipe.js","components/PrivacyPolicy.js","components/Terms.js","components/ReportWindow.js","components/Spinner.js","components/StarRating.js","components/RecipeInfo.js","components/Recipe.js","components/FilterDropdown.js","components/FilterBar.js","components/RecipeCard.js","components/RecipeList.js","components/Home.js","components/ProfileRecipeCard.js","components/ProfileRecipeList.js","components/UserProfile.js","App.js","index.js"],"names":["module","exports","Settings","login","input","a","axios","post","headers","result","data","signup","getUserInfo","username","get","getRecipes","getRecipe","recipeID","fetchComments","postComment","token","comment","JSON","stringify","getBookmarkedRecipes","postRecipe","recipe","removeRecipe","logout","postRating","rating","id","userId","put","getRecipeRating","getOwnRating","userID","getIsBookmarked","postBookmark","isBookmarked","useFormValidation","initialState","validate","useState","isSigningUp","setToSigningUp","values","setValues","errors","setErrors","isSubmitting","setSubmitting","isLoggedIn","setToLoggedIn","showSignUp","showSignUpWindow","showLogin","showLoginWindow","useEffect","noErrors","Object","keys","length","console","log","then","localStorage","setItem","user","_id","catch","response","handleSubmit","event","preventDefault","validationErrors","handleChange","target","name","value","setImageFile","file","profilePicture","handleClose","handleLogOut","getItem","removeItem","error","alert","validateAuth","test","email","password","SignUpWindow","props","show","goToLogin","termsUnderstood","setToTermsUnderstood","imagePreviewUrl","setImagePreviewUrl","Modal","onHide","Header","closeButton","Title","Body","Form","Group","Label","Control","type","placeholder","onChange","autoComplete","htmlFor","className","accept","e","reader","FileReader","files","onloadend","split","readAsDataURL","style","marginTop","width","alt","src","key","Check","fontSize","label","href","Button","onClick","disabled","LoginWindow","goToSignUp","INITIAL_STATE","NavigationBar","useRef","history","useHistory","currentSearch","location","pathname","includes","join","currentSearchWords","setCurrentSearchWords","closeWindow","Navbar","to","ref","logo","onSubmit","splitSearchWords","toLowerCase","push","variant","Nav","OverlayTrigger","placement","overlay","Tooltip","NavDropdown","title","Item","Divider","exact","completed","setToCompleted","parsedRecipe","ingredients","filter","i","ingredient","instructions","instruction","parseRecipe","targetName","targetValue","newValue","temp","ingredientID","checked","categories","category","parseInt","findIndex","x","amount","instructionID","imageFile","addIngredient","numOfIngredients","newID","removeIngredient","updatedList","obj","addInstruction","numOfInstructions","removeInstruction","validateRecipeForm","entries","constructor","hours","minutes","timeToCook","Number","isInteger","servings","undefined","some","description","difficulty","CreateRecipe","Fragment","height","background","Card","controlId","as","rows","fontWeight","display","marginBottom","flex","marginRight","inline","map","index","Footer","when","message","PrivacyPolicy","backgroundColor","padding","paddingBottom","TermsOfService","ReportWindow","emptyReport","reportType","reporterID","report","setReport","setError","setCompleted","color","textAlign","Spinner","role","StarRating","starEditing","starHalves","submitRating","color2","color1","edit","half","count","Math","round","isNaN","RecipeInfo","Recipe","loggedUser","userToken","useParams","author","ratings","setRecipe","recipeRating","setRecipeRating","ownRating","setOwnRating","ratingCount","setRatingCount","setIsBookmarked","setLoggedIn","insertComment","comments","setComments","isAuthor","setIsAuthor","showReportWindow","setShowReportWindow","isLoading","setIsLoading","recipeData","ratingData","commentData","authorID","ownRatingData","bookmarkData","fetchData","handleClick","deleteRecipe","ok","window","reload","submitComment","size","textDecoration","Text","Img","margin","poster","date","FilterDropdown","items","selectedItems","setSelectedItems","data-toggle","aria-haspopup","aria-expanded","aria-labelledby","item","concat","FilterBar","selectedCategories","setSelectedCategories","selectedDifficulties","setSelectedDifficulties","setSelectedTimes","selectedTimes","selectedDiets","setSelectedDiets","withRouter","setRating","searchWords","recipes","setData","params","Home","search","ProfileRecipeList","followed","following","bookmarks","setUser","ownRecipes","setOwnRecipes","bookmarkedRecipes","setBookmarkedRecipes","Tabs","Tab","eventKey","About","App","Container","path","component","UserProfile","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.d03d34db.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo2.90a60c49.png\";","import React from 'react'\r\n\r\nconst Settings = () => (\r\n  <div>\r\n    <h1>Settings</h1>\r\n  </div>\r\n)\r\n\r\nexport default Settings","import axios from 'axios'\r\n\r\nexport const login = async (input) => {\r\n  try {\r\n    const result = await axios.post('/api/users/login', input, {\r\n      headers: {\r\n        'Accept': 'application/json',\r\n        'Content-Type': 'application/json'\r\n      }\r\n    })\r\n    return result.data\r\n  } catch(error) {\r\n    throw error\r\n  }\r\n}\r\n\r\nexport const signup = async (input) => {\r\n  try {\r\n    const result = await axios.post('/api/users', input, {\r\n      headers: {\r\n        'Accept': 'application/json',\r\n        'Content-Type': 'application/json'\r\n      }\r\n    })\r\n    return result.data\r\n  } catch(error) {\r\n    return error\r\n  }\r\n}\r\n\r\nexport const getUserInfo = async (username) => {\r\n  try {\r\n    const result = await axios.get(`/api/users/${username}`)\r\n    return result.data\r\n  } catch(error) {\r\n    return error\r\n  }\r\n}\r\n\r\nexport const getRecipes = async (username) => {\r\n  try {\r\n    const result = await axios.get(`/api/users/${username}/recipes`)\r\n    return result.data\r\n  } catch(error) {\r\n    return error\r\n  }\r\n}\r\n\r\nexport const getRecipe = async (recipeID) => {\r\n  try {\r\n    const result = await axios.get(`/api/recipes/${recipeID}`)\r\n    return result.data\r\n  } catch(error) {\r\n    return error\r\n  }\r\n}\r\n\r\nexport const fetchComments = async (recipeID) => {\r\n  try {\r\n    const result = await axios.get(`/api/recipes/${recipeID}/comments`)\r\n    return result.data\r\n  } catch (error) {\r\n    return error\r\n  }\r\n}\r\n\r\nexport const postComment = async (token, recipeID, comment) => {\r\n  try {\r\n    const result = await axios.post(`/api/recipes/${recipeID}/comment`, JSON.stringify(comment), {\r\n      headers: {\r\n        'Authorization': token,\r\n        'Accept': 'application/json',\r\n        'Content-Type': 'application/json'\r\n      }\r\n    })\r\n    return result.data\r\n  } catch(error) {\r\n    return error\r\n  }\r\n}\r\n\r\nexport const getBookmarkedRecipes = async (token, username) => {\r\n  try {\r\n    const result = await axios.get(`/api/users/${username}/bookmarked-recipes`, {\r\n      headers: {\r\n        'Authorization': token\r\n      }\r\n    })\r\n    return result.data\r\n  } catch(error) {\r\n    return error\r\n  }\r\n}\r\n\r\nexport const getFollowingUsers = async (username) => {\r\n  try {\r\n    const result = await axios.get(`/api/users/${username}/following`)\r\n    return result.data\r\n  } catch(error) {\r\n    return error\r\n  }\r\n}\r\n\r\nexport const postRecipe = async (token, recipe) => {\r\n  try {\r\n    const result = await axios.post('/api/recipes/', recipe, {\r\n      headers: {\r\n        'Authorization': token\r\n      }\r\n    })\r\n    return result.data\r\n  } catch (error) {\r\n    return error\r\n  }\r\n}\r\n\r\nexport const removeRecipe = async (token, recipeID) => {\r\n  try {\r\n    const result = await axios.get(`/api/recipes/${recipeID}/remove`, {\r\n      headers: {\r\n        'Authorization': token\r\n      }\r\n    })\r\n    return result.data\r\n  } catch (error) {\r\n    return error\r\n  }\r\n}\r\n\r\nexport const logout = async (token) => {\r\n  try {\r\n    const result = await axios.post('/api/users/me/logout', {}, {\r\n      headers: {\r\n        'Authorization': token\r\n      }\r\n    })\r\n    return result.data\r\n  } catch(error) {\r\n    return error\r\n  }\r\n}\r\n\r\nexport const postRating = async (rating, id, userId) => {\r\n  try {\r\n    const result = await axios.put(`/api/recipes/${id}/rating/${userId}`, rating)\r\n    return result\r\n  } catch (error) {\r\n    return error\r\n  }\r\n}\r\n\r\nexport const getRecipeRating = async (recipeID) => {\r\n  try {\r\n    const result = await axios.get(`/api/recipes/${recipeID}/rating`)\r\n    return result.data\r\n  } catch(error) {\r\n    return error\r\n  }\r\n}\r\n\r\nexport const getOwnRating = async (recipeID, userID) => {\r\n  try {\r\n    const result = await axios.get(`/api/recipes/${recipeID}/rating/${userID}`)\r\n    return result.data\r\n  } catch(error) {\r\n    return error\r\n  }\r\n}\r\n\r\nexport const getIsBookmarked = async (recipeID, username) => {\r\n  try {\r\n    const result = await axios.get(`/api/users/${username}/bookmarked/${recipeID}`)\r\n    return result.data\r\n  } catch(error) {\r\n    return error\r\n  }\r\n}\r\n\r\nexport const postBookmark = async (recipeID, username, isBookmarked) => {\r\n  try {\r\n    const result = await axios.put(`/api/users/${username}/${isBookmarked}/${recipeID}`)\r\n    return result\r\n  } catch (error) {\r\n    return error\r\n  }\r\n}\r\n","import { useState, useEffect } from 'react'\r\n\r\nimport { signup, login, logout } from '../api'\r\n\r\nfunction useFormValidation(initialState, validate) {\r\n  const [isSigningUp, setToSigningUp] = useState(false)\r\n  const [values, setValues] = useState(initialState)\r\n  const [errors, setErrors] = useState({})\r\n  const [isSubmitting, setSubmitting] = useState(false)\r\n  const [isLoggedIn, setToLoggedIn] = useState(false)\r\n  const [showSignUp, showSignUpWindow] = useState(false)\r\n  const [showLogin, showLoginWindow] = useState(false)\r\n\r\n  useEffect(() => {\r\n    if (isSubmitting) {\r\n      const noErrors = Object.keys(errors).length === 0\r\n      if (noErrors && isSigningUp) {\r\n        console.log(values)\r\n        signup(values)\r\n          .then(result => {\r\n            localStorage.setItem('token', result.token)\r\n            localStorage.setItem('username', result.user.username)\r\n            localStorage.setItem('id', result.user._id)\r\n            setToLoggedIn(true)\r\n            showSignUpWindow(false)\r\n          })\r\n          .catch(() => setErrors({ response: 'Something went wrong...' }))\r\n      } else if (noErrors && !isSigningUp) {\r\n        login(values)\r\n          .then(result => {\r\n            localStorage.setItem('token', result.token)\r\n            localStorage.setItem('username', result.user.username)\r\n            localStorage.setItem('id', result.user._id)\r\n            setToLoggedIn(true)\r\n            showLoginWindow(false)\r\n          })\r\n          .catch(() => setErrors({ response: 'Wrong email address or password' }))\r\n      }\r\n      setSubmitting(false)\r\n    } else {\r\n      setSubmitting(false)\r\n    }\r\n  }, [errors, isSubmitting, values, isSigningUp])\r\n\r\n  const handleChange = (event) => {\r\n    setValues({\r\n      ...values,\r\n      [event.target.name]: event.target.value\r\n    })\r\n  }\r\n\r\n  const handleLogOut = () => {\r\n    const token = localStorage.getItem('token')\r\n    logout(token)\r\n      .then(() => {\r\n        localStorage.removeItem('token')\r\n        localStorage.removeItem('username')\r\n        localStorage.removeItem('id')\r\n        setToLoggedIn(false)\r\n      })\r\n      .catch(error =>alert(error))\r\n  }\r\n\r\n  const setImageFile = (file) => {\r\n    setValues({\r\n      ...values,\r\n      profilePicture: file\r\n    })\r\n  }\r\n\r\n\r\n  // reset fields to initial values\r\n  const handleClose = () => {\r\n    setErrors({})\r\n    setSubmitting(false)\r\n    setValues(initialState)\r\n  }\r\n\r\n  /*\r\n  const handleBlur = () => {\r\n    const validationErrors = validate(values, isSigningUp)\r\n    setErrors(validationErrors)\r\n\t}\r\n\t*/\r\n\r\n  const handleSubmit = (event) => {\r\n    event.preventDefault()\r\n    const validationErrors = validate(values, isSigningUp)\r\n    setErrors(validationErrors)\r\n    setSubmitting(true)\r\n  }\r\n\r\n  return {\r\n    handleSubmit,\r\n    handleChange,\r\n    setImageFile,\r\n    handleClose,\r\n    handleLogOut,\r\n    isLoggedIn,\r\n    setToLoggedIn,\r\n    setToSigningUp,\r\n    showSignUpWindow,\r\n    showLoginWindow,\r\n    showSignUp,\r\n    showLogin,\r\n    errors\r\n  }\r\n}\r\n\r\nexport default useFormValidation\r\n","export default function validateAuth(values, isSigningUp) {\r\n  let errors = {}\r\n  // Username Errors, applied only when signing up\r\n  if (isSigningUp && !values.username) {\r\n    errors.username = 'Please provide a username'\r\n  } else if (isSigningUp && !/^(?=.{3,20}$)(?![_.])(?!.*[_.]{2})[a-zA-Z0-9._]+(?<![_.])$/i.test(values.username)) {\r\n    errors.username = 'Invalid username'\r\n  }\r\n  // Email Errors\r\n  if (!values.email) {\r\n    errors.email = 'Please insert email address'\r\n  } else if (!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i.test(values.email)) {\r\n    errors.email = 'Invalid email address'\r\n  }\r\n  // Password Errors\r\n  if (!values.password) {\r\n    errors.password = 'Please insert password'\r\n  } else if (values.password.length < 6) {\r\n    errors.password = 'Password must be at least 6 characters long'\r\n  }\r\n  return errors\r\n}\r\n","import React, { useState } from 'react'\r\nimport { Form, Button, Modal } from 'react-bootstrap'\r\n\r\nimport '../css/SignUpWindow.css'\r\n\r\nconst SignUpWindow = (props) => {\r\n\r\n  // eslint-disable-next-line react/prop-types\r\n  const { show, handleChange, setImageFile, handleSubmit, handleClose, goToLogin, errors } = props\r\n  const [termsUnderstood, setToTermsUnderstood] = useState(false)\r\n  const [imagePreviewUrl, setImagePreviewUrl] = useState('')\r\n\r\n  const check = () => {\r\n    setToTermsUnderstood(!termsUnderstood)\r\n  }\r\n\r\n  const handleImageChange = (e) => {\r\n    const reader = new FileReader()\r\n    const file = e.target.files[0]\r\n    reader.onloadend = () => {\r\n      setImagePreviewUrl(reader.result)\r\n      setImageFile(reader.result.split(',')[1]) // base64\r\n      //setImageFile(file)\r\n    }\r\n    reader.readAsDataURL(file)\r\n  }\r\n\r\n\r\n\r\n  return (\r\n    <Modal show={show} onHide={handleClose}>\r\n      <Modal.Header closeButton>\r\n        <Modal.Title>Sign Up</Modal.Title>\r\n      </Modal.Header>\r\n\r\n      <Modal.Body>\r\n        <Form>\r\n          <Form.Group>\r\n            <Form.Label>Username</Form.Label>\r\n            <Form.Control type='text' name='username' placeholder='Enter username' onChange={handleChange} />\r\n          </Form.Group>\r\n          <Form.Group>\r\n            <Form.Label>Email address</Form.Label>\r\n            <Form.Control type='email' name='email' placeholder='Enter email' onChange={handleChange} />\r\n          </Form.Group>\r\n          <Form.Group>\r\n            <Form.Label>Password</Form.Label>\r\n            <Form.Control type='password' name='password' placeholder='Enter password' onChange={handleChange} autoComplete='on' />\r\n          </Form.Group>\r\n          <div>\r\n              <label htmlFor='file-upload' className='custom-file-upload'>\r\n                Upload photo\r\n              </label>\r\n              <input\r\n                id='file-upload'\r\n                name='imageUrl'\r\n                type='file'\r\n                accept={'image/*'}\r\n                onChange={handleImageChange}\r\n              />\r\n          </div>\r\n          {imagePreviewUrl && <img style={{ marginTop: '20px', width: '100%' }} alt='loading' src={imagePreviewUrl} />}\r\n          <div key={'default-checkbox'} className='mb-3'>\r\n            <Form.Check\r\n              type={'checkbox'}\r\n              id={'default-checkbox'}\r\n              onChange={check}\r\n              style={{ fontSize: '13px' }}\r\n              label={\r\n                <label>I have read and understood the&nbsp;\r\n                  <a href='/terms'>Terms of Service</a> and the <a href='/privacy'>Privacy Policy</a>\r\n                </label>\r\n              }\r\n            />\r\n          </div>\r\n          \r\n          {Object.keys(errors).length !== 0 && <p className='error-text'>{errors[Object.keys(errors)[0]]}</p>}\r\n        </Form>\r\n        <div className='submit-area'>\r\n          <Button className='submit-btn' onClick={handleSubmit} disabled={!termsUnderstood}>\r\n\t\t\t\t\t\tSign up\r\n          </Button>\r\n          <p className='no-account-info' >\r\n\t\t\t\t\t\tAlready have an account?\r\n            <button className='login-btn' onClick={goToLogin}>Log in</button>\r\n          </p>\r\n        </div>\r\n      </Modal.Body>\r\n    </Modal>)\r\n}\r\n\r\nexport default SignUpWindow","import React from 'react'\r\nimport { Form, Button, Modal } from 'react-bootstrap'\r\n\r\nimport '../css/LoginWindow.css'\r\n\r\nconst LoginWindow = (props) => {\r\n\r\n  // eslint-disable-next-line react/prop-types\r\n  const { show, handleChange, handleSubmit, handleClose, goToSignUp, errors } = props\r\n\r\n  return (\r\n    <Modal show={show} onHide={handleClose}>\r\n      <Modal.Header closeButton>\r\n        <Modal.Title>Log in</Modal.Title>\r\n      </Modal.Header>\r\n\r\n      <Modal.Body>\r\n        <Form>\r\n          <Form.Group>\r\n            <Form.Label>Email address</Form.Label>\r\n            <Form.Control type='email' name='email' placeholder='Enter email' onChange={handleChange} />\r\n          </Form.Group>\r\n          <Form.Group>\r\n            <Form.Label>Password</Form.Label>\r\n            <Form.Control type='password' name='password' placeholder='Enter password' onChange={handleChange} autoComplete='on' />\r\n          </Form.Group>\r\n          {Object.keys(errors).length !== 0 && <p className='error-text'>{errors[Object.keys(errors)[0]]}</p>}\r\n        </Form>\r\n        <div className='submit-area'>\r\n          <Button className='submit-btn' onClick={handleSubmit}>\r\n\t\t\t\t\tLog in\r\n          </Button>\r\n          <p className='no-account-info' >\r\n\t\t\t\t\t\tDon&apos;t have an account?\r\n            <button className='signup-btn' onClick={goToSignUp}>Sign up</button>\r\n          </p>\r\n        </div>\r\n      </Modal.Body>\r\n    </Modal>)\r\n}\r\n\r\nexport default LoginWindow","import React, { useEffect, useState, useRef } from 'react'\r\nimport { Nav, NavDropdown, Navbar, Form, Button, OverlayTrigger, Tooltip } from 'react-bootstrap'\r\nimport { LinkContainer } from 'react-router-bootstrap'\r\nimport { Link, useHistory } from 'react-router-dom'\r\nimport { FiUser } from 'react-icons/fi'\r\nimport { IoMdSettings } from 'react-icons/io'\r\n\r\nimport '../css/NavigationBar.css'\r\nimport logo from '../assets/logo2.png'\r\nimport useFormValidation from '../utils/useFormValidation'\r\nimport validateAuth from '../utils/validateAuth'\r\nimport SignUpWindow from './SignUpWindow'\r\nimport LoginWindow from './LoginWindow'\r\n\r\nconst INITIAL_STATE = {\r\n  username: '',\r\n  email: '',\r\n  password: '',\r\n  profilePicture: '',\r\n}\r\n\r\nconst NavigationBar = () => {\r\n  const input = useRef(null)\r\n  let history = useHistory()\r\n  let currentSearch = ''\r\n\r\n  if (history.location.pathname.includes('/search=')) {\r\n    currentSearch = history.location.pathname.split('=')[1].split('+').join(' ')\r\n  }\r\n\r\n  const [currentSearchWords, setCurrentSearchWords] = useState(currentSearch)\r\n\r\n  const {\r\n    handleSubmit,\r\n    handleChange,\r\n    setImageFile,\r\n    handleClose,\r\n    handleLogOut,\r\n    isLoggedIn,\r\n    setToLoggedIn,\r\n    setToSigningUp,\r\n    showSignUpWindow,\r\n    showLoginWindow,\r\n    showSignUp,\r\n    showLogin,\r\n    errors\r\n  } = useFormValidation(INITIAL_STATE, validateAuth)\r\n\r\n  useEffect(() => {\r\n    if (localStorage.getItem('token')) {\r\n      setToLoggedIn(true)\r\n    } else {\r\n      localStorage.removeItem('token')\r\n      setToLoggedIn(false)\r\n    }\r\n  }, [setToLoggedIn])\r\n\r\n  const goToLogin = () => {\r\n    setToSigningUp(false)\r\n    showSignUpWindow(false)\r\n    showLoginWindow(true)\r\n    handleClose()\r\n  }\r\n\r\n  const goToSignUp = () => {\r\n    setToSigningUp(true)\r\n    showLoginWindow(false)\r\n    showSignUpWindow(true)\r\n    handleClose()\r\n  }\r\n\r\n  const closeWindow = () => {\r\n    showSignUpWindow(false)\r\n    showLoginWindow(false)\r\n    handleClose()\r\n  }\r\n\r\n  const handleSearchChange = (event) => {\r\n    setCurrentSearchWords(event.target.value)\r\n  }\r\n\r\n  const handleSearchSubmit = (event) => {\r\n    event.preventDefault()\r\n    const splitSearchWords = currentSearchWords.toLowerCase().split(' ').join('+')\r\n    history.push(`/search=${splitSearchWords}`)\r\n    setCurrentSearchWords('')\r\n  }\r\n\r\n  const clearSearch = () => {\r\n    setCurrentSearchWords('')\r\n  }\r\n\r\n  return (\r\n    <Navbar className='navigation-bar d-flex justify-content-between sticky-top'>\r\n      <div>\r\n        <Link className='navbar-brand' to='/' ref={input} onClick={clearSearch}>\r\n          <img className='logo-image' src={logo} alt='logo'/>\r\n        </Link>\r\n      </div>\r\n      <div>\r\n        <Form className='search-form' onSubmit={handleSearchSubmit}>\r\n          <Form.Control value={currentSearchWords} onChange={handleSearchChange} type='text' placeholder='Enter dish or ingredient(s)' className='search-bar form-size main-search'/>\r\n          <Button variant='navbar-button' className='search-button' type='submit' >Search</Button>\r\n        </Form>\r\n      </div>\r\n      <div>\r\n        <Nav className='button-profile-settings'>\r\n          {\r\n            isLoggedIn ?\r\n              <LinkContainer to='/create-recipe' disabled={!isLoggedIn}>\r\n                <Button variant='outline-create-recipe-button'>\r\n                  Create recipe\r\n                </Button>\r\n              </LinkContainer>\r\n              :\r\n              <OverlayTrigger\r\n                key={'create-recipe-overlay'}\r\n                placement={'bottom'}\r\n                overlay={<Tooltip id={'tooltip-bottom'}>You must log in to create a recipe.</Tooltip>}\r\n              >\r\n                <span className='d-inline-block'>\r\n                  <LinkContainer to='/create-recipe' disabled={!isLoggedIn}>\r\n                    <Button variant='outline-create-recipe-button'>\r\n                      Create recipe\r\n                    </Button>\r\n                  </LinkContainer>\r\n                </span>\r\n              </OverlayTrigger>\r\n          }\r\n\r\n          <SignUpWindow\r\n            show={showSignUp}\r\n            handleChange={handleChange}\r\n            setImageFile={setImageFile}\r\n            goToLogin={goToLogin}\r\n            errors={errors}\r\n            handleSubmit={handleSubmit}\r\n            handleClose={closeWindow}\r\n          />\r\n\r\n          <LoginWindow\r\n            show={showLogin}\r\n            handleChange={handleChange}\r\n            goToSignUp={goToSignUp}\r\n            errors={errors}\r\n            handleSubmit={handleSubmit}\r\n            handleClose={closeWindow}\r\n          />\r\n\r\n          {\r\n            isLoggedIn &&\r\n          <Link className='navbar-brand' to={`/user/${localStorage.getItem('username')}`}>\r\n            <FiUser className='profile-icon'/>\r\n          </Link>\r\n          }\r\n\r\n          <NavDropdown className='settings-dropdown' title={<IoMdSettings className='dropdown-icon' />} >\r\n            <LinkContainer to='/terms'>\r\n              <NavDropdown.Item>Terms of Service</NavDropdown.Item>\r\n            </LinkContainer>\r\n            <LinkContainer to='/privacy'>\r\n              <NavDropdown.Item>Privacy Policy</NavDropdown.Item>\r\n            </LinkContainer>\r\n            <NavDropdown.Divider />\r\n            {isLoggedIn\r\n              ?\r\n              <LinkContainer to='/' exact>\r\n                <NavDropdown.Item onClick={handleLogOut}>Log out</NavDropdown.Item>\r\n              </LinkContainer>\r\n              :\r\n              <NavDropdown.Item onClick={goToLogin} >Log in</NavDropdown.Item>\r\n            }\r\n\r\n          </NavDropdown>\r\n        </Nav>\r\n      </div>\r\n    </Navbar>\r\n  )\r\n}\r\n\r\nexport default NavigationBar","import { useState, useEffect } from 'react'\r\nimport { postRecipe } from '../api'\r\n\r\nconst parseRecipe = (recipe) => {\r\n  let parsedRecipe = recipe\r\n  parsedRecipe.ingredients = recipe.ingredients.filter(i => !/^\\s*$/.test(i.ingredient))\r\n  parsedRecipe.instructions = recipe.instructions.filter(i => !/^\\s*$/.test(i.instruction))\r\n  return parsedRecipe\r\n}\r\n\r\nconst useFormValidation = (initialState, validate) => {\r\n  const [values, setValues] = useState(initialState)\r\n  const [errors, setErrors] = useState({})\r\n  const [isSubmitting, setSubmitting] = useState(false)\r\n  const [completed, setToCompleted] = useState(false)\r\n\r\n  useEffect(() => {\r\n    if (isSubmitting) {\r\n      const noErrors = Object.keys(errors).length === 0\r\n      if (noErrors) {\r\n        const token = localStorage.getItem('token')\r\n        const parsedRecipe = parseRecipe(values)\r\n        postRecipe(token, parsedRecipe).then(() => {\r\n          setToCompleted(true)\r\n        })\r\n        setSubmitting(false)\r\n      } else {\r\n        setSubmitting(false)\r\n      }\r\n    }\r\n  }, [errors, isSubmitting, values])\r\n\r\n  const handleClose = () => {\r\n    setErrors({})\r\n    setSubmitting(false)\r\n    setToCompleted(false)\r\n    setValues(initialState)\r\n  }\r\n\r\n  const handleChange = (event) => {\r\n    const targetName = event.target.name\r\n    const targetValue = event.target.value\r\n    let newValue = ''\r\n    let temp = ''\r\n    let ingredientID = ''\r\n\r\n    switch (targetName) {\r\n        case 'categories':\r\n          const checked = event.target.checked\r\n          if (checked) newValue = [...values.categories, targetValue]\r\n          else newValue = values.categories.filter(category => category !== targetValue)\r\n          break\r\n        case 'hours':\r\n          newValue = parseInt(targetValue, 10)\r\n          break\r\n        case 'minutes':\r\n          newValue = parseInt(targetValue, 10)\r\n          break\r\n        case 'servings':\r\n          newValue = parseInt(targetValue, 10)\r\n          break\r\n        case 'ingredientAmounts':\r\n          newValue = values.ingredients\r\n          ingredientID = parseInt(event.target.id, 10)\r\n          temp = newValue[newValue.findIndex(x => x.id === ingredientID)]\r\n          newValue[newValue.findIndex(x => x.id === ingredientID)] = { amount: targetValue, ingredient: temp.ingredient, id: ingredientID }\r\n          break\r\n        case 'ingredients':\r\n          newValue = values.ingredients\r\n          ingredientID = parseInt(event.target.id, 10)\r\n          temp = newValue[newValue.findIndex(x => x.id === ingredientID)]\r\n          newValue[newValue.findIndex(x => x.id === ingredientID)] = { amount: temp.amount, ingredient: targetValue, id: ingredientID }\r\n          break\r\n        case 'instructions':\r\n          const instructionID = parseInt(event.target.id, 10)\r\n          newValue = values.instructions\r\n          newValue[newValue.findIndex(x => x.id === instructionID)] = { instruction: targetValue, id: instructionID }\r\n          break\r\n        default:\r\n          newValue = event.target.value\r\n    }\r\n\r\n    if (targetName === 'ingredientAmounts') {\r\n      setValues({\r\n        ...values,\r\n        ingredients: newValue\r\n      })\r\n    } else{\r\n      setValues({\r\n        ...values,\r\n        [event.target.name]: newValue\r\n      })\r\n    }\r\n  }\r\n\r\n  const setImageFile = (file) => {\r\n    setValues({\r\n      ...values,\r\n      imageFile: file\r\n    })\r\n  }\r\n\r\n  const addIngredient = () => {\r\n    const numOfIngredients = values.ingredients.length\r\n    const newID = numOfIngredients === 0 ? 1 : values.ingredients[numOfIngredients - 1].id + 1\r\n    setValues({\r\n      ...values,\r\n      ingredients: [ ...values.ingredients, {amount: '', ingredient: '', id: newID } ]\r\n    })\r\n  }\r\n\r\n  const removeIngredient = (id) => {\r\n    const updatedList = values.ingredients.filter(obj => obj.id !== id)\r\n    setValues({\r\n      ...values,\r\n      ingredients: [ ...updatedList]\r\n    })\r\n  }\r\n\r\n  const addInstruction = () => {\r\n    const numOfInstructions = values.instructions.length\r\n    const newID = numOfInstructions === 0 ? 1 : values.instructions[numOfInstructions - 1].id + 1\r\n    setValues({\r\n      ...values,\r\n      instructions: [ ...values.instructions, { instruction: '', id: newID } ]\r\n    })\r\n  }\r\n\r\n  const removeInstruction = (id) => {\r\n    const updatedList = values.instructions.filter(obj => obj.id !== id)\r\n    setValues({\r\n      ...values,\r\n      instructions: updatedList\r\n    })\r\n  }\r\n\r\n  const handleSubmit = (event) => {\r\n    event.preventDefault()\r\n    const validationErrors = validate(values)\r\n    setErrors(validationErrors)\r\n    setSubmitting(true)\r\n  }\r\n\r\n  return {\r\n    handleChange,\r\n    handleSubmit,\r\n    handleClose,\r\n    setImageFile,\r\n    addIngredient,\r\n    removeIngredient,\r\n    addInstruction,\r\n    removeInstruction,\r\n    errors,\r\n    completed,\r\n    values\r\n  }\r\n}\r\n\r\nexport default useFormValidation\r\n","\r\nconst validateRecipeForm = (values) => {\r\n  let errors = {}\r\n  // title error\r\n  if (!values.title) {\r\n    errors.title = 'Please give your recipe a name.'\r\n  }\r\n  // imageFile error\r\n  if (Object.entries(values.imageFile).length === 0 && values.imageFile.constructor === Object) {\r\n    errors.imageFile = 'No image selected for the recipe.'\r\n  }\r\n  // timeToCook errors\r\n  if (values.hours === 0 && values.minutes === 0) {\r\n    errors.timeToCook = 'Please provide an estimation of cooking time.'\r\n  } else if (values.hours < 0 || values.hours > 1000 || !Number.isInteger(values.hours)) {\r\n    errors.timeToCook = 'Invalid hours in cooking time!'\r\n  } else if (values.minutes < 0 || values.minutes > 59 || !Number.isInteger(values.minutes)) {\r\n    errors.timeToCook = 'Invalid minutes in cooking time!'\r\n  }\r\n  // servings errors\r\n  if (values.servings <= 0) {\r\n    errors.servings = 'Please provide the number of servings for your recipe.'\r\n  } else if (values.servings < 0 || values.servings > 100 || !Number.isInteger(values.servings)) {\r\n    errors.servings = 'The number of servings is not valid!'\r\n  }\r\n  // categories error\r\n  if (values.categories === undefined || values.categories.length === 0) {\r\n    errors.categories = 'Please select at least one category for your recipe.'\r\n  }\r\n  // ingregients error\r\n  if (values.ingredients === undefined || values.ingredients.length === 0) {\r\n    errors.ingredients = 'You should provide at least one ingredient!'\r\n  } else if (!values.ingredients.some(i => !/^\\s*$/.test(i.ingredient))) {\r\n    errors.ingredients = 'You should provide at least one ingredient!'\r\n  }\r\n  // instructions error\r\n  if (values.instructions === undefined || values.instructions.length === 0) {\r\n    errors.instructions = 'Please provide instructions!'\r\n  } else if (!values.instructions.some(i => !/^\\s*$/.test(i.instruction))) {\r\n    errors.instructions = 'Please provide at least one instruction!'\r\n  }\r\n  return errors\r\n}\r\n\r\nexport default validateRecipeForm","import React, { useState } from 'react'\r\nimport { Form, Button, Card, Modal } from 'react-bootstrap'\r\nimport { LinkContainer } from 'react-router-bootstrap'\r\nimport { Prompt } from 'react-router'\r\n\r\nimport '../css/CreateRecipe.css'\r\nimport useFormValidation from '../utils/useRecipeFormValidation'\r\nimport validateRecipeForm from '../utils/validateRecipeForm'\r\nimport categories from '../assets/categories.json'\r\n\r\nconst INITIAL_STATE = {\r\n  title: '',\r\n  description: '',\r\n  imageFile: {},\r\n  difficulty: 'Easy',\r\n  hours: 0,\r\n  minutes: 0,\r\n  servings: 0,\r\n  categories: [],\r\n  ingredients: [{ amount: '', ingredient: '', id: 1 }],\r\n  instructions: [{ instruction: '', id: 1 }]\r\n}\r\n\r\nconst CreateRecipe = () => {\r\n  const {\r\n    handleChange,\r\n    handleSubmit,\r\n    handleClose,\r\n    setImageFile,\r\n    addIngredient,\r\n    removeIngredient,\r\n    addInstruction,\r\n    removeInstruction,\r\n    errors,\r\n    completed,\r\n    values\r\n  } = useFormValidation(INITIAL_STATE, validateRecipeForm)\r\n\r\n  const [imagePreviewUrl, setImagePreviewUrl] = useState('')\r\n\r\n  const handleImageChange = (e) => {\r\n    const reader = new FileReader()\r\n    const file = e.target.files[0]\r\n    reader.onloadend = () => {\r\n      setImagePreviewUrl(reader.result)\r\n      setImageFile(reader.result.split(',')[1]) // base64\r\n      //setImageFile(file)\r\n\r\n    }\r\n\r\n    reader.readAsDataURL(file)\r\n  }\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <div style={{ height: '1em', background:'transparent' }}></div>\r\n      <Card className='recipe-card'>\r\n        <Card.Body>\r\n          <Form onSubmit={handleSubmit}>\r\n\r\n            <Form.Group controlId='recipeTitle'>\r\n              <Form.Control\r\n                className='recipe-title'\r\n                type='text'\r\n                name='title'\r\n                onChange={handleChange}\r\n                placeholder='Enter recipe title'\r\n              />\r\n            </Form.Group>\r\n\r\n            <Form.Group className='fields' controlId='recipeStory'>\r\n              <Form.Control\r\n                as='textarea'\r\n                rows='2'\r\n                onChange={handleChange}\r\n                name='description'\r\n                placeholder='Tell us about your recipe'\r\n              />\r\n            </Form.Group>\r\n\r\n            <div>\r\n              <label htmlFor='file-upload' className='custom-file-upload'>\r\n                Upload photo\r\n              </label>\r\n              <input\r\n                id='file-upload'\r\n                name='imageUrl'\r\n                type='file'\r\n                accept={'image/*'}\r\n                onChange={handleImageChange}\r\n              />\r\n            </div>\r\n\r\n            {imagePreviewUrl && <img style={{ marginTop: '20px', width: '80%' }} alt='loading' src={imagePreviewUrl} />}\r\n\r\n            <h5 className='recipe-subtitles' >Basic Information</h5>\r\n            <hr style={{ marginTop: '0' }} />\r\n\r\n            <Form.Group className='fields'>\r\n              <Form.Label style={{ fontWeight: 'bold' }}>Time to cook: </Form.Label>\r\n              <br></br>\r\n              <div style={{ display: 'flex', marginBottom: '20px' }}>\r\n                <Form.Control\r\n                  className='no-spinner'\r\n                  type='number'\r\n                  name='hours'\r\n                  onChange={handleChange}\r\n                  placeholder={INITIAL_STATE.hours}\r\n                  style={{ flex: 1, marginRight: '10px' }}\r\n                />\r\n                <Form.Label style={{ flex: 2, marginTop: '0.5rem' }}> hours</Form.Label>\r\n                <Form.Control\r\n                  className='no-spinner'\r\n                  type='number'\r\n                  name='minutes'\r\n                  onChange={handleChange}\r\n                  placeholder={INITIAL_STATE.minutes}\r\n                  style={{ flex: 1, marginRight: '10px' }}\r\n                />\r\n                <Form.Label style={{ flex: 2, marginTop: '0.5rem' }}> minutes</Form.Label>\r\n                <div style={{ flex: 8 }}></div>\r\n              </div>\r\n            </Form.Group>\r\n\r\n            <Form.Group className='fields'>\r\n              <Form.Label style={{ fontWeight: 'bold' }}>Portion: </Form.Label>\r\n              <br></br>\r\n              <div style={{ display: 'flex', marginBottom: '20px' }}>\r\n                <Form.Control\r\n                  className='no-spinner'\r\n                  type='number'\r\n                  name='servings'\r\n                  placeholder={INITIAL_STATE.servings}\r\n                  onChange={handleChange}\r\n                  style={{ flex: 1, marginRight: '10px' }}\r\n                />\r\n                <Form.Label style={{ flex: 2, marginTop: '0.5rem' }}> serving(s)</Form.Label>\r\n                <div style={{ flex: 8 }}></div>\r\n              </div>\r\n            </Form.Group>\r\n\r\n            <Form.Group className='fields'>\r\n              <Form.Label style={{ fontWeight: 'bold' }}>Select difficulty: </Form.Label>\r\n              <br></br>\r\n              <div key={'inline-radio'}>\r\n                <Form.Check\r\n                  inline\r\n                  label='Easy'\r\n                  name='difficulty'\r\n                  value={'Easy'}\r\n                  type={'radio'}\r\n                  id={'inline-radio-1'}\r\n                  checked={values.difficulty === 'Easy'}\r\n                  onChange={handleChange}\r\n                />\r\n                <Form.Check\r\n                  inline\r\n                  label='Medium'\r\n                  name='difficulty'\r\n                  value={'Medium'}\r\n                  type={'radio'}\r\n                  id={'inline-radio-2'}\r\n                  checked={values.difficulty === 'Medium'}\r\n                  onChange={handleChange}\r\n                />\r\n                <Form.Check\r\n                  inline\r\n                  label='Challenging'\r\n                  name='difficulty'\r\n                  value={'Challenging'}\r\n                  type={'radio'}\r\n                  id={'inline-radio-3'}\r\n                  checked={values.difficulty === 'Challenging'}\r\n                  onChange={handleChange}\r\n                />\r\n              </div>\r\n            </Form.Group>\r\n\r\n            <Form.Group className='fields'>\r\n              <Form.Label style={{ fontWeight: 'bold' }}>Select categories: </Form.Label>\r\n              <br></br>\r\n              <div key={'inline-checkbox'}>\r\n                {categories.categories.map((category, i) => (\r\n                  <Form.Check\r\n                    inline name='categories'\r\n                    onChange={handleChange}\r\n                    value={category}\r\n                    label={category}\r\n                    type={'checkbox'}\r\n                    key={`inline-checkbox-${i}`}\r\n                  />\r\n                ))}\r\n              </div>\r\n            </Form.Group>\r\n\r\n            <h5 className='recipe-subtitles' >Ingredients</h5>\r\n            <hr style={{ marginTop: '0' }} />\r\n\r\n            <Form.Group className='fields'>\r\n              {values.ingredients.map(ingredient => (\r\n                <div key={ingredient.id} style={{ display: 'flex', marginBottom: '20px' }}>\r\n                  <Form.Control\r\n                    id={ingredient.id}\r\n                    placeholder='e.g. 3 dl'\r\n                    onChange={handleChange}\r\n                    name='ingredientAmounts'\r\n                    style={{ flex: '2', marginRight: '10px'}}\r\n                  />\r\n                  <Form.Control\r\n                    id={ingredient.id}\r\n                    placeholder='e.g. water'\r\n                    onChange={handleChange}\r\n                    name='ingredients'\r\n                    style={{ flex: '10'}}\r\n                  />\r\n                  <Button className='remove-button' onClick={() => removeIngredient(ingredient.id)}>Remove</Button>\r\n                </div>\r\n              ))}\r\n            </Form.Group>\r\n\r\n            <Button className='add-button' onClick={addIngredient} >add ingredient</Button>\r\n\r\n            <h5 className='recipe-subtitles' >Steps</h5>\r\n            <hr style={{ marginTop: '0' }} />\r\n\r\n            <Form.Group className='fields'>\r\n              {values.instructions.map((instruction, index) => (\r\n                <div key={instruction.id} style={{ marginBottom: '20px' }}>\r\n                  <Form.Label>Step {index + 1}</Form.Label>\r\n                  <div style={{ display: 'flex' }}>\r\n                    <Form.Control\r\n                      id={instruction.id}\r\n                      placeholder='Write instructions here'\r\n                      name='instructions'\r\n                      onChange={handleChange}\r\n                      style={{ flex: '10'}}\r\n                    />\r\n                    <Button className='remove-button' onClick={() => removeInstruction(instruction.id)}>Remove</Button>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </Form.Group>\r\n\r\n            <Button className='add-button' onClick={addInstruction} >add step</Button>\r\n\r\n            <Button variant='primary' type='submit' className='submit-button' >Done!</Button>\r\n            {Object.keys(errors).length !== 0 && <p className='error-text'>{errors[Object.keys(errors)[0]]}</p>}\r\n          </Form>\r\n        </Card.Body>\r\n      </Card>\r\n\r\n      <Modal show={completed}>\r\n        <Modal.Header>\r\n          <Modal.Title>All set!</Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          Your recipe has been successfully created.\r\n        </Modal.Body>\r\n        <Modal.Footer>\r\n          <LinkContainer to='/'>\r\n            <Button variant='secondary' onClick={handleClose}>\r\n              Go to home page\r\n            </Button>\r\n          </LinkContainer>\r\n        </Modal.Footer>\r\n      </Modal>\r\n\r\n      <Prompt\r\n        when={!completed}\r\n        message={'Are you sure you want to leave this page without saving?'}\r\n      />\r\n    </React.Fragment>\r\n  )\r\n}\r\n\r\nexport default CreateRecipe","import React from 'react'\r\n\r\nconst PrivacyPolicy = () => (\r\n  <div style= {{backgroundColor: 'white', padding: '40px'}}>\r\n    <h2>PRIVACY POLICY</h2>\r\n    <h4 style={{ paddingBottom: '40px' }} >Last Updated: September 15, 2019</h4>\r\n    <h3>Contents</h3>\r\n\r\n    <ul>\r\n      <li>\r\n        <a className='link' href='#s1'>1. Overview</a>\r\n      </li>\r\n      <li>\r\n        <a className='link' href='#s2'>2. What does this Privacy Policy cover?</a>\r\n      </li>\r\n      <li>\r\n        <a className='link' href='#s3'>3. What Personal Information do we collect from you?</a>\r\n      </li>\r\n      <li>\r\n        <a className='link' href='#s4'>4. Cookies</a>\r\n      </li>\r\n      <li>\r\n        <a className='link' href='#s5'>5. How do we use Personal Information collected from you?</a>\r\n      </li>\r\n      <li>\r\n        <a className='link' href='#s6'>6. Who do we share your Personal Information with?</a>\r\n      </li>\r\n      <li>\r\n        <a className='link' href='#s7'>7. Our legal grounds for processing Personal Information</a>\r\n      </li>\r\n      <li>\r\n        <a className='link' href='#s8'>8. Where is your Personal Information stored and processed?</a>\r\n      </li>\r\n      <li>\r\n        <a className='link' href='#s9'>9. How long do we keep your Personal Information?</a>\r\n      </li>\r\n      <li>\r\n        <a className='link' href='#s10'>10. How do we secure your Personal Information?</a>\r\n      </li>\r\n      <li>\r\n        <a className='link' href='#s11'>11. Changes to this Privacy Policy</a>\r\n      </li>\r\n      <li>\r\n        <a className='link' href='#s12'>12. Your rights</a>\r\n      </li>\r\n      <li>\r\n        <a className='link' href='#s13'>13. Contacting us, further questions and how to make a complaint</a>\r\n      </li>\r\n    </ul>\r\n\r\n    <h2 id='#s1'>1. Overview</h2>\r\n    <p>\r\n\t\t\tThis is the Website and App Privacy Policy (<b>&quot;Privacy Policy&quot;</b>) of the UK registered\r\n\t\t\tbranch of CookScope Inc., a corporation registered at 4-20-3 Ebisu, Shibuya-ku, Tokyo, Japan\r\n\t\t\t(<b>&quot;CookScope&quot;</b>) and we are the data controller in respect of the Personal Information\r\n\t\t\t(as defined below) that we collect from you.  It covers information CookScope collects from\r\n\t\t\tusers and visitors of our official website (<b>&quot;Site&quot;</b>) and official mobile app (<b>&quot;App&quot;</b>).\r\n    </p>\r\n    <p>\r\n\t\t\tBy accessing our Site or App, you confirm that you have read and understood the entirety of\r\n\t\t\tthis Privacy Policy.\r\n    </p>\r\n    <p>You have various rights in respect of our use of your Personal Information as set out in t\r\n\t\t\the <a className='link' href='#s13'>&apos;Your Rights&apos;</a> section below.  Two of the fundamental rights to be aware\r\n\t\t\tof are that you may:\r\n    </p>\r\n    <ol type='1'>\r\n      <li>\r\n\t\t\t\task us to stop using your Personal Information for direct-marketing by email or push\r\n\t\t\t\tnotification.  If you exercise this right, we will stop using your Personal Information\r\n\t\t\t\tin this regard; and\r\n      </li>\r\n      <li>\r\n\t\t\t\task us to consider any valid objections you have to our use of your Personal Information\r\n\t\t\t\twhere we process your Personal Information on the basis of our, or a third party&apos;s,\r\n\t\t\t\tlegitimate interests.\r\n      </li>\r\n    </ol>\r\n  </div>\r\n)\r\n\r\nexport default PrivacyPolicy","import React from 'react'\r\n\r\nimport '../css/General.css'\r\n\r\nconst TermsOfService = () => (\r\n  <div style= {{backgroundColor: 'white', padding: '40px'}}>\r\n    <h2>TERMS OF SERVICE</h2>\r\n    <h4 style={{ paddingBottom: '40px' }} >Last Updated: May 10, 2019</h4>\r\n    <h3>Contents</h3>\r\n\r\n    <ul>\r\n      <li>\r\n        <a className='link' href='#s1'>1. Your agreement</a>\r\n      </li>\r\n      <li>\r\n        <a className='link' href='#s2'>2. Privacy</a>\r\n      </li>\r\n      <li>\r\n        <a className='link' href='#s3'>3. Content on the services</a>\r\n      </li>\r\n      <li>\r\n        <a className='link' href='#s4'>4. Your rights and grant of rights in the content</a>\r\n      </li>\r\n      <li>\r\n        <a className='link' href='#s5'>5. Using the services</a>\r\n      </li>\r\n      <li>\r\n        <a className='link' href='#s6'>6. Your account</a>\r\n      </li>\r\n      <li>\r\n        <a className='link' href='#s7'>7. Your license to use the services</a>\r\n      </li>\r\n      <li>\r\n        <a className='link' href='#s8'>8. Ending these terms</a>\r\n      </li>\r\n      <li>\r\n        <a className='link' href='#s9'>9. Disclaimers and limitations of liability</a>\r\n      </li>\r\n      <li>\r\n        <a className='link' href='#s10'>10. General</a>\r\n      </li>\r\n    </ul>\r\n\r\n    <h2 id='#s1'>1. Your agreement</h2>\r\n    <p>\r\n\t\t\tYou may use the Services only if you agree to form a binding contract with CookScope and are\r\n\t\t\tnot a person barred from receiving services under the laws of the applicable jurisdiction.\r\n\t\t\tIn any case, you must be at least 13 years old to use the Services. If you are accepting\r\n\t\t\tthese Terms and using the Services on behalf of a company, organization, government, or other\r\n\t\t\tlegal entity, you represent and warrant that you are authorized to do so and have the authority\r\n\t\t\tto bind such entity to these Terms, in which case the words you and your as used in these\r\n\t\t\tTerms shall refer to such entity.\r\n    </p>\r\n    <h2 id='#s2'>2. Privacy</h2>\r\n    <p>\r\n\t\tOur Privacy Policy (https://www.cookscope.com/privacy) describes how we handle the information\r\n\t\tyou provide to us when you use our Services. You understand that through your use of the Services\r\n\t\tyou consent to the collection and use (as set forth in the Privacy Policy) of this information,\r\n\t\tincluding the transfer of this information to the United States, Ireland, and/or other countries\r\n\t\tfor storage, processing and use by Twitter and its affiliates.\r\n    </p>\r\n  </div>\r\n)\r\n\r\nexport default TermsOfService","/* eslint-disable react/prop-types */\r\nimport React, { useState } from 'react'\r\nimport { Form, Button, Modal } from 'react-bootstrap'\r\n\r\nimport '../css/ReportWindow.css'\r\n\r\nconst ReportWindow = ({ show, handleClose, recipeID, reporterID }) => {\r\n\r\n  const emptyReport = {\r\n    reportType: '',\r\n    description: '',\r\n    recipeID: recipeID,\r\n    reporterID: reporterID\r\n  }\r\n\r\n  const [report, setReport] = useState(emptyReport)\r\n  const [error, setError] = useState(null)\r\n  const [completed, setCompleted] = useState(false)\r\n\r\n  const handleChange = (event) => {\r\n    const targetName = event.target.name\r\n    const targetValue = event.target.value\r\n    setReport({\r\n      ...report,\r\n      [targetName]: targetValue\r\n    })\r\n  }\r\n\r\n  const closeWindow = () => {\r\n    setCompleted(false)\r\n    setReport(emptyReport)\r\n    setError(null)\r\n    handleClose()\r\n  }\r\n\r\n  const submitReport = (event) => {\r\n    event.preventDefault()\r\n    if (!report.reportType) {\r\n      setError('Please select a problem type')\r\n    } else {\r\n      setCompleted(true)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Modal show={show} onHide={closeWindow}>\r\n      {completed\r\n        ?\r\n        <React.Fragment>\r\n          <Modal.Header>\r\n            <Modal.Title>Thank you</Modal.Title>\r\n          </Modal.Header>\r\n          <Modal.Body>\r\n\t\t\t\t\t\tWe will look into the problem and take necessary measures.\r\n          </Modal.Body>\r\n          <Modal.Footer>\r\n            <Button variant='secondary' onClick={closeWindow}>\r\n\t\t\t\t\t\t\tClose\r\n            </Button>\r\n          </Modal.Footer>\r\n        </React.Fragment>\r\n        :\r\n        <React.Fragment>\r\n          <Modal.Header closeButton>\r\n            <Modal.Title className='report-text' >File a report</Modal.Title>\r\n          </Modal.Header>\r\n          <Modal.Body>\r\n            <Form onSubmit={submitReport}>\r\n              <Form.Group className='report-text'>\r\n                <Form.Label style={{ fontWeight: 'bold' }}>Tell us the problem</Form.Label>\r\n                <br></br>\r\n                <div key='default-radio'>\r\n                  <Form.Check\r\n                    label='This account may be compromised'\r\n                    name='reportType'\r\n                    type='radio'\r\n                    id='type-A'\r\n                    value='type-A'\r\n                    checked={report.reportType === 'type-A'}\r\n                    onChange={handleChange}\r\n                  />\r\n                  <Form.Check\r\n                    label='This user is abusive'\r\n                    name='reportType'\r\n                    type='radio'\r\n                    id='type-B'\r\n                    value='type-B'\r\n                    checked={report.reportType === 'type-B'}\r\n                    onChange={handleChange}\r\n                  />\r\n                  <Form.Check\r\n                    label='This recipe may be subjected to plagiarism'\r\n                    name='reportType'\r\n                    type='radio'\r\n                    id='type-C'\r\n                    value='type-C'\r\n                    checked={report.reportType === 'type-C'}\r\n                    onChange={handleChange}\r\n                  />\r\n                  <Form.Check\r\n                    label='Other'\r\n                    name='reportType'\r\n                    type='radio'\r\n                    id='itype-D'\r\n                    value='type-D'\r\n                    checked={report.reportType === 'type-D'}\r\n                    onChange={handleChange}\r\n                  />\r\n                </div>\r\n              </Form.Group>\r\n\r\n              <Form.Group className='report-text' controlId='recipeStory'>\r\n                <Form.Label>Please provide any additional info here</Form.Label>\r\n                <Form.Control\r\n                  as='textarea'\r\n                  rows='2'\r\n                  name='description'\r\n                  onChange={handleChange}\r\n                />\r\n              </Form.Group>\r\n\r\n              <div className='text-right'>\r\n                <Button variant='danger' type='submit' style={{ marginTop: '1em' }} >Report</Button>\r\n                {error && <p style={{ color: 'red', fontSize: '1rem', textAlign: 'center' }}>{error}</p>}\r\n              </div>\r\n            </Form>\r\n          </Modal.Body>\r\n        </React.Fragment>\r\n      }\r\n    </Modal>)\r\n}\r\n\r\nexport default ReportWindow","import React from 'react'\r\nimport '../css/Spinner.css'\r\n\r\nconst Spinner = () => {\r\n\treturn (\r\n\t<div className='spinner-background'>\r\n\t\t<div className='spinner-filler'/>\r\n\t\t<div className=\"spinner-box\">\r\n\t\t\t\t<div className=\"spinner-border\" role=\"status\">\r\n\t\t\t\t\t<span className=\"sr-only\">Loading...</span>\r\n\t\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\t\r\n\t)\r\n}\r\n\r\nexport default Spinner;\r\n","/* eslint-disable react/prop-types */\r\nimport React from 'react'\r\nimport ReactStars from 'react-stars'\r\nimport '../css/StarRating.css'\r\n\r\nconst StarRating = (props) => {\r\n\r\n  const {\r\n    starEditing,\r\n    rating,\r\n    starHalves,\r\n    submitRating\r\n  } = props\r\n\r\n  return (\r\n    <div className='row star-rating'>\r\n      <ReactStars className='stars' color2='#FBB117' color1='LightGrey' edit={starEditing} half={starHalves} count={5} value={Math.round(rating*2)/2} onChange={submitRating}/>\r\n      <div className='rating'>{isNaN(rating) ? null : rating}</div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default StarRating","/* eslint-disable react/prop-types */\r\nimport React from 'react'\r\nimport { FiClock } from 'react-icons/fi'\r\nimport { MdRestaurant } from 'react-icons/md'\r\nimport { GiChefToque } from 'react-icons/gi'\r\n\r\nimport '../css/RecipeInfo.css'\r\n\r\n\r\nconst RecipeInfo = (props) => {\r\n\r\n  const { recipe } = props\r\n\r\n  const cookingTime = () => {\r\n    if (recipe.hours && recipe.minutes) {\r\n      return (`${recipe.hours} h ${recipe.minutes} min`)\r\n    }\r\n    if (!recipe.hours && recipe.minutes) {\r\n      return (`${recipe.minutes} min`)\r\n    }\r\n    return (`${recipe.hours} h`)\r\n  }\r\n\r\n  return (\r\n    <div className='info-container'>\r\n      { recipe.categories && <div className='category-info' >{recipe.categories.join(', ')}</div>}\r\n      <div><GiChefToque style={{marginRight:'0.2em'}} className='info-logo'/> {recipe.difficulty}</div>\r\n      <div><MdRestaurant className='info-logo' /> {recipe.servings}</div>\r\n      <div><FiClock className='info-logo'/> {cookingTime()} </div>\r\n    </div>\r\n  )\r\n}\r\nexport default RecipeInfo","/* eslint-disable no-console */\r\nimport React, {useState, useEffect} from 'react'\r\nimport { useParams, Link, useHistory } from 'react-router-dom'\r\nimport { Card, Form, Button, NavDropdown, OverlayTrigger, Tooltip } from 'react-bootstrap'\r\nimport { FaRegBookmark, FaBookmark } from 'react-icons/fa'\r\nimport { FiMenu } from 'react-icons/fi'\r\nimport ReportWindow from './ReportWindow'\r\nimport Spinner from './Spinner'\r\nimport '../css/Recipe.css'\r\nimport StarRating from './StarRating'\r\nimport { postComment, fetchComments, postRating, getRecipe, removeRecipe, getRecipeRating, getOwnRating, getIsBookmarked, postBookmark } from '../api'\r\nimport RecipeInfo from './RecipeInfo'\r\n\r\nconst Recipe = () => {\r\n  let history = useHistory()\r\n  const loggedUser = localStorage.getItem('username')\r\n  const userToken = localStorage.getItem('token')\r\n  const userId = localStorage.getItem('id')\r\n  const { recipeID } = useParams()\r\n  const [recipe, setRecipe] = useState({ imageFile: '', author: '', ingredients: [], instructions: [], ratings: [] })\r\n  const [recipeRating, setRecipeRating] = useState(0)\r\n  const [ownRating, setOwnRating] = useState(0)\r\n  const [ratingCount, setRatingCount] = useState(0)\r\n  const [isBookmarked, setIsBookmarked] = useState(false)\r\n  const [isLoggedIn, setLoggedIn] = useState(false)\r\n  const [comment, insertComment] = useState({ comment: '' })\r\n  const [comments, setComments] = useState([])\r\n  const [isAuthor, setIsAuthor] = useState(false)\r\n  const [showReportWindow, setShowReportWindow] = useState(false)\r\n  const [isLoading, setIsLoading] = useState(true)\r\n\r\n  useEffect(() => {\r\n    insertComment({ comment: '' })\r\n    const fetchData = async () => {\r\n      try {\r\n        const recipeData = await getRecipe(recipeID)\r\n        const ratingData = await getRecipeRating(recipeID)\r\n        const commentData = await fetchComments(recipeID)\r\n\r\n        setRecipe(recipeData)\r\n        setRatingCount(recipeData.ratings.length)\r\n        setRecipeRating(ratingData.rating)\r\n        setComments(commentData)\r\n        setIsLoading(false)\r\n        if (userId === recipeData.authorID) {\r\n          setIsAuthor(true)\r\n        }\r\n        if (userToken) {\r\n          setLoggedIn(true)\r\n          const ownRatingData = await getOwnRating(recipeID, userId)\r\n          const bookmarkData = await getIsBookmarked(recipeID, loggedUser)\r\n          setOwnRating(ownRatingData.rating)\r\n          setIsBookmarked(bookmarkData.isBookmarked)\r\n        } else {\r\n          setLoggedIn(false)\r\n        }\r\n      } catch (error) {\r\n        console.log(error)\r\n      }\r\n    }\r\n    fetchData()\r\n  }, [recipeID, ownRating, userId, loggedUser, userToken])\r\n\r\n  const submitRating = (value) => {\r\n    const rating = {userId: userId, rating: value}\r\n    postRating(rating, recipeID, userId)\r\n    setOwnRating(value)\r\n  }\r\n\r\n  const handleClick = () => {\r\n    postBookmark(recipeID, loggedUser, isBookmarked)\r\n    setIsBookmarked(!isBookmarked)\r\n  }\r\n\r\n\r\n  useEffect(() => {\r\n\r\n  }, [showReportWindow])\r\n\r\n  const handleCommentChange = (event) => {\r\n    insertComment({ comment: event.target.value })\r\n  }\r\n\r\n  const deleteRecipe = async () => {\r\n    const token = localStorage.getItem('token')\r\n    const result = await removeRecipe(token, recipeID)\r\n    if (result.ok) {\r\n      await history.push('/')\r\n      window.location.reload()\r\n    } else {\r\n      alert('There was a problem. Try again later.')\r\n    }\r\n  }\r\n\r\n  const submitComment = async () => {\r\n    const token = localStorage.getItem('token')\r\n    await postComment(token, recipeID, comment)\r\n\r\n    insertComment({ comment: '' })\r\n    fetchComments(recipeID)\r\n    setComments(comments)\r\n  }\r\n\r\n  return (\r\n    <React.Fragment>\r\n        {isLoading ? \r\n        (\r\n          <Spinner/>\r\n        ) :\r\n        (\r\n          <div style={{height:'auto', background:'transparent'}}> \r\n          <div style={{height:'2em', background:'transparent'}} />\r\n          <Card className='recipe-card'>\r\n            <Card.Body>\r\n              <div className='menu'>\r\n              <NavDropdown title={<FiMenu className='menu-icon'/>} >\r\n                <NavDropdown.Item onClick={() => setShowReportWindow(true)} style={{ color: 'red' }} >Report</NavDropdown.Item>\r\n                {isAuthor && <NavDropdown.Item onClick={deleteRecipe}>Delete recipe</NavDropdown.Item>}\r\n              </NavDropdown>\r\n              {(loggedUser && isBookmarked) && <FaBookmark size={28} className='bookmark' onClick={handleClick}/>}\r\n              {(loggedUser && !isBookmarked) && <FaRegBookmark size={28} className='bookmark' onClick={handleClick}/>}\r\n              {!loggedUser && <OverlayTrigger\r\n                placement={'right'}\r\n                overlay={<Tooltip id={'tooltip'}>You must log in to bookmark recipe.</Tooltip>}>\r\n                <div>\r\n                  <FaRegBookmark size={28} className='bookmark' onClick={handleClick}/>\r\n                </div>\r\n              </OverlayTrigger>\r\n              }\r\n            </div>\r\n            <Card.Title className='recipe-card-title' style={{ textDecoration: 'none' }} >{recipe.title}</Card.Title>\r\n            <Card.Text>\r\n                by <Link className='card-author' to={`/user/${recipe.author}`}>{recipe.author}</Link>\r\n            </Card.Text>\r\n            <div className='row recipe-star-ratings'>\r\n              <div className='single-rating'>\r\n                <StarRating starEditing={false} starHalves={true} rating={recipeRating} submitRating={submitRating}/>\r\n                <div className='rating-by'>{ratingCount} ratings</div>\r\n              </div>\r\n              {\r\n                loggedUser &&\r\n                <div className='single-rating'>\r\n                  <StarRating starEditing={true} starHalves={false} rating={ownRating} submitRating={submitRating}/>\r\n                  <div className='rating-by'>You</div>\r\n                </div>\r\n              }\r\n            </div>\r\n            <Card.Img className='recipe-card-img' src={`data:image/jpeg;base64,${recipe.imageFile}`} />\r\n            <br/>{recipe.description && <Card.Text>{'\"' + recipe.description+'\"'}</Card.Text>}\r\n            <br/>\r\n            <RecipeInfo recipe={recipe}/>\r\n            <Card.Title>\r\n              <br/>Ingredients<br/>\r\n            </Card.Title>\r\n            {recipe.ingredients.map(ingredient => <Card.Text key={ingredient.ingredient}>{ingredient.ingredient}</Card.Text>)}\r\n            <Card.Title className='recipe-lesser-title'>\r\n              <br/>Steps<br/>\r\n            </Card.Title>\r\n            {recipe.instructions.map((instruction, i) => (\r\n              <Card.Text key={instruction.id}>\r\n                {i + 1}{`. ${instruction.instruction}`}<br/>\r\n              </Card.Text>\r\n            ))}\r\n\r\n            <hr style={{ margin: '3em 0 1em 0'}} />\r\n\r\n            <Card.Title className='sub-title' >\r\n                Comments ({comments.length})\r\n            </Card.Title>\r\n\r\n            {isLoggedIn &&\r\n                <Form className='comment-container' style={{ margin: '1rem 0' }} onSubmit={submitComment}>\r\n                  <Form.Control\r\n                    as='textarea'\r\n                    rows='2'\r\n                    onChange={handleCommentChange}\r\n                    name='comment'\r\n                    placeholder='Leave a comment'\r\n                  />\r\n                  <div className='text-right'>\r\n                    <Button className='post-button' variant='none' type='submit' >Post</Button>\r\n                  </div>\r\n                </Form>\r\n              }\r\n              {comments.map((comment, i) => (\r\n                <Card key={`comment-${i}`} style={{ width: '100%', margin: '1em 0' }}>\r\n                  <Card.Body className='comment'>\r\n                    <p className='comment-header' >\r\n                      <Link className='card-author comment-author' to={`/user/${comment.poster}`}>\r\n                        {comment.poster}\r\n                      </Link>\r\n                      <span className='comment-date' >{comment.date}</span></p>\r\n                    <Card.Text className='comment-body recipe-text' >{comment.comment}</Card.Text>\r\n                  </Card.Body>\r\n                </Card>\r\n              ))}\r\n              <ReportWindow\r\n                show={showReportWindow}\r\n                handleClose={() => setShowReportWindow(false)}\r\n                recipeID={recipeID}\r\n                reporterID={localStorage.getItem('id')}\r\n              />\r\n            </Card.Body>\r\n          </Card>\r\n        </div>\r\n          )}\r\n    </React.Fragment>\r\n  )\r\n}\r\n\r\nexport default Recipe\r\n\r\n\r\n","/* eslint-disable react/prop-types */\r\nimport React from 'react'\r\nimport '../css/FilterDropdown.css'\r\n\r\nconst FilterDropdown = (props) => {\r\n  const {\r\n    title,\r\n    items,\r\n    selectedItems,\r\n    setSelectedItems\r\n  } = props\r\n\r\n  const handleClick = (event) => {\r\n    if (selectedItems.includes(event.target.value)) {\r\n      setSelectedItems(selectedItems.filter(item => item !== event.target.value))\r\n    } else {\r\n      setSelectedItems(selectedItems.concat(event.target.value))\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className='dropdown'>\r\n      <button className='btn dropdown-toggle-filter' type='button' id='dropdownMenuButton' data-toggle='dropdown' aria-haspopup='true' aria-expanded='false'>\r\n        {title}\r\n      </button>\r\n      <form className='dropdown-menu' aria-labelledby='dropdownMenuButton'>\r\n        {items.map(item =>\r\n          <label key={item} className='dropdown-item'><input className='dropdown-checkbox' onChange={(event) => handleClick(event)} type='checkbox' value={item}/>{item}</label>\r\n        )}\r\n      </form>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default FilterDropdown","/* eslint-disable react/prop-types */\r\nimport React from 'react'\r\nimport { Navbar, Nav } from 'react-bootstrap'\r\nimport '../css/FilterBar.css'\r\nimport FilterDropdown from './FilterDropdown'\r\nimport categories from '../assets/categories.json'\r\n\r\nconst FilterBar = (props) => {\r\n  const {\r\n    selectedCategories,\r\n    setSelectedCategories,\r\n    selectedDifficulties,\r\n    setSelectedDifficulties,\r\n    setSelectedTimes,\r\n    selectedTimes,\r\n    selectedDiets,\r\n    setSelectedDiets\r\n  } = props\r\n\r\n  const difficulties = ['Easy', 'Medium', 'Challenging']\r\n  const times = [\r\n    'Under 15 minutes',\r\n    'Under 30 minutes',\r\n    'Under 45 minutes',\r\n    'Under 1 hour'\r\n  ]\r\n  const diets = [\r\n    'Vegetarian',\r\n    'Vegan',\r\n    'Dairy-free',\r\n    'Gluten-free'\r\n  ]\r\n\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <div style={{height:'5em', background:'transparent'}}></div>\r\n      <div className='filter-container fixed-top'>\r\n        <Navbar className='filterbar fixed-top'>\r\n          <Nav>\r\n            <FilterDropdown title='Categories' items={categories.categories} selectedItems={selectedCategories} setSelectedItems={setSelectedCategories} />\r\n            <FilterDropdown title='Difficulty' items={difficulties} selectedItems={selectedDifficulties} setSelectedItems={setSelectedDifficulties} />\r\n            <FilterDropdown title='Time' items={times} selectedItems={selectedTimes} setSelectedItems={setSelectedTimes} />\r\n            <FilterDropdown title='Special Diet' items={diets} selectedItems={selectedDiets} setSelectedItems={setSelectedDiets} />\r\n          </Nav>\r\n        </Navbar>\r\n      </div>\r\n    </React.Fragment>\r\n  )\r\n}\r\n\r\nexport default FilterBar","/* eslint-disable react/prop-types */\r\nimport React, { useState, useEffect } from 'react'\r\nimport { getRecipeRating } from '../api'\r\nimport { withRouter, useHistory, Link } from 'react-router-dom'\r\nimport { Card } from 'react-bootstrap'\r\nimport { FiClock } from 'react-icons/fi'\r\nimport { GiChefToque } from 'react-icons/gi'\r\nimport StarRating from './StarRating'\r\nimport '../css/RecipeCard.css'\r\n\r\nconst RecipeCard = (props) => {\r\n  const { recipe } = props\r\n  const [rating, setRating] = useState(0)\r\n  let history = useHistory()\r\n\r\n  useEffect(() => {\r\n    const fetchData = () => {\r\n      getRecipeRating(recipe.id).then((result) => {\r\n        setRating(result.rating)\r\n      })\r\n    }\r\n    fetchData()\r\n  }, [recipe])\r\n\r\n  const cookingTime = () => {\r\n    if (recipe.hours && recipe.minutes) {\r\n      return (`${recipe.hours} h ${recipe.minutes} min`)\r\n    }\r\n    if (!recipe.hours && recipe.minutes) {\r\n      return (`${recipe.minutes} min`)\r\n    }\r\n    return (`${recipe.hours} h`)\r\n  }\r\n\r\n  return (\r\n    <Card className='recipe-list-card'key={recipe.id}>\r\n      <Card.Body>\r\n        <Card.Img\r\n          className='recipe-list-card-img'\r\n          src={`data:image/jpeg;base64,${recipe.imageFile}`}\r\n          onClick={() => history.push(`/recipe/${recipe.id}`)}\r\n        />\r\n        <Card.Title onClick={() => history.push(`/recipe/${recipe.id}`)}>{recipe.title}</Card.Title>\r\n        <Card.Text>\r\n                by <Link className='card-author' to={`/user/${recipe.author}`}>{recipe.author}</Link>\r\n        </Card.Text>\r\n        <div className='recipe-info-container'>\r\n          <div>\r\n            <StarRating starEditing={false} starHalves={true} rating={rating}/>\r\n            <div className='rating-by'>{recipe.ratings.length} ratings</div>\r\n          </div>\r\n          <div className='info-text'><GiChefToque style={{marginRight:'0.2em'}} className='info-logo'/>{recipe.difficulty}</div>\r\n          <div className='info-text'><FiClock className='info-logo'/> {cookingTime()} </div>\r\n        </div>\r\n      </Card.Body>\r\n    </Card>\r\n  )\r\n}\r\n\r\nexport default withRouter(RecipeCard)","/* eslint-disable react/prop-types */\r\nimport React, { useEffect, useState } from 'react'\r\nimport { withRouter } from 'react-router-dom'\r\nimport Spinner from './Spinner'\r\nimport axios from 'axios'\r\nimport '../css/RecipeList.css'\r\nimport RecipeCard from './RecipeCard'\r\n\r\nconst RecipeList = (props) => {\r\n\r\n  const {\r\n    searchWords,\r\n    selectedCategories,\r\n    selectedDifficulties,\r\n    selectedTimes,\r\n    selectedDiets\r\n  } = props\r\n\r\n  const [recipes, setData] \t= useState([])\r\n  const [isLoading, setIsLoading] = useState(true)\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      const baseUrl = '/api/recipes'\r\n      const result = await axios(baseUrl, {params: {\r\n        searchWords: searchWords,\r\n        selectedCategories: selectedCategories,\r\n        selectedDifficulties: selectedDifficulties,\r\n        selectedTimes: selectedTimes,\r\n        selectedDiets: selectedDiets\r\n      }})\r\n      setData(result.data)\r\n      setIsLoading(false)\r\n    }\r\n    fetchData()\r\n\r\n  }, [\r\n    searchWords,\r\n    selectedCategories,\r\n    selectedDifficulties,\r\n    selectedTimes,\r\n    selectedDiets\r\n  ])\r\n\r\n  return (\r\n    <React.Fragment>\r\n      {isLoading ?\r\n      (\r\n        <Spinner/>\r\n      ) :\r\n      (\r\n      <div>\r\n        {searchWords.length > 0 ? <h2>&quot;{searchWords.join(' ')}&quot;: {recipes.length} recipes found</h2> : <></>}\r\n        <div className='recipe-list-card-columns'>\r\n          {recipes.map(recipe => (\r\n            <RecipeCard recipe={recipe} key={recipe.id}/>\r\n          ))}\r\n        </div>\r\n      </div>\r\n      )\r\n      }\r\n  </React.Fragment>\r\n  )\r\n}\r\nexport default withRouter(RecipeList)","import React, { useState } from 'react'\r\nimport { useParams } from 'react-router-dom'\r\nimport FilterBar from './FilterBar'\r\nimport RecipeList from './RecipeList'\r\n\r\nconst Home = () => {\r\n  const [selectedCategories, setSelectedCategories] = useState([])\r\n  const [selectedDifficulties, setSelectedDifficulties] = useState([])\r\n  const [selectedTimes, setSelectedTimes] = useState([])\r\n  const [selectedDiets, setSelectedDiets] = useState([])\r\n\r\n  const { searchWords } = useParams()\r\n  let search = []\r\n  if (searchWords) {\r\n    search = searchWords.split('+')\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <FilterBar\r\n        selectedCategories={selectedCategories}\r\n        setSelectedCategories={setSelectedCategories}\r\n        selectedDifficulties={selectedDifficulties}\r\n        setSelectedDifficulties={setSelectedDifficulties}\r\n        selectedTimes={selectedTimes}\r\n        setSelectedTimes={setSelectedTimes}\r\n        selectedDiets={selectedDiets}\r\n        setSelectedDiets={setSelectedDiets}\r\n      />\r\n      <RecipeList\r\n        searchWords={search}\r\n        selectedCategories={selectedCategories}\r\n        selectedDifficulties={selectedDifficulties}\r\n        selectedTimes={selectedTimes}\r\n        selectedDiets={selectedDiets}\r\n      />\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Home","/* eslint-disable react/prop-types */\r\nimport React, { useState, useEffect } from 'react'\r\nimport { getRecipeRating } from '../api'\r\nimport { withRouter, useHistory, Link } from 'react-router-dom'\r\nimport { Card } from 'react-bootstrap'\r\nimport { FiClock } from 'react-icons/fi'\r\nimport { GiChefToque } from 'react-icons/gi'\r\nimport StarRating from './StarRating'\r\nimport '../css/ProfileRecipeCard.css'\r\n\r\nconst ProfileRecipeCard = (props) => {\r\n  const { recipe } = props\r\n  const [rating, setRating] = useState(0)\r\n  let history = useHistory()\r\n\r\n  useEffect(() => {\r\n    const fetchData = () => {\r\n      getRecipeRating(recipe.id).then((result) => {\r\n        setRating(result.rating)\r\n      })\r\n    }\r\n    fetchData()\r\n  }, [recipe])\r\n\r\n\tconst cookingTime = () => {\r\n\t\tif (recipe.hours && recipe.minutes) {\r\n\t\t\treturn (`${recipe.hours} h ${recipe.minutes} min`)\r\n\t\t} \r\n\t\tif (!recipe.hours && recipe.minutes) {\r\n\t\t\treturn (`${recipe.minutes} min`)\r\n\t\t} \r\n\t\treturn (`${recipe.hours} h`)\r\n\t}\r\n\t\r\n\treturn (\r\n\t\t<Card className='profile-recipe-list-card' key={recipe.id}>\r\n            <Card.Body>\r\n              <Card.Img\r\n                className='profile-recipe-list-card-img'\r\n                src={`data:image/jpeg;base64,${recipe.imageFile}`}\r\n                onClick={() => history.push(`/recipe/${recipe.id}`)}\r\n              />\r\n              <Card.Title onClick={() => history.push(`/recipe/${recipe.id}`)}>{recipe.title}</Card.Title>\r\n              <Card.Text>\r\n                by <Link className='card-author' to={`/user/${recipe.author}`}>{recipe.author}</Link>\r\n              </Card.Text>\r\n              <div className='profile-recipe-info-container'>\r\n                <div>\r\n                <StarRating starEditing={false} starHalves={true} rating={rating}/> \r\n                  <div className='rating-by'>{recipe.ratings.length} ratings</div> \r\n                  </div>\r\n                  <div className='info-text'><GiChefToque style={{marginRight:'0.2em'}} className='info-logo'/>{recipe.difficulty}</div>  \r\n                  <div  className='info-text'><FiClock className='info-logo'/> {cookingTime()} </div>\r\n              </div>    \r\n            </Card.Body>\r\n    </Card>\r\n  )\r\n}\r\n\r\nexport default withRouter(ProfileRecipeCard)","/* eslint-disable react/prop-types */\r\nimport React from 'react'\r\nimport '../css/ProfileRecipeList.css'\r\nimport ProfileRecipeCard from './ProfileRecipeCard'\r\n\r\n\r\nconst ProfileRecipeList = (props) => {\r\n  const { recipes } = props\r\n\r\n  return (\r\n    <div className='recipe-list-container'>\r\n      {recipes.map(recipe => (\r\n        <ProfileRecipeCard recipe={recipe} />\r\n      ))}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ProfileRecipeList\r\n","import React, {useState, useEffect} from 'react'\r\nimport { useParams } from 'react-router-dom'\r\nimport { Card, Tab, Tabs } from 'react-bootstrap'\r\nimport { withRouter } from 'react-router-dom'\r\n\r\nimport ProfileRecipeList from './ProfileRecipeList'\r\nimport '../css/UserProfile.css'\r\nimport { getUserInfo, getRecipes, getBookmarkedRecipes } from '../api'\r\n\r\nconst UserProfile = () => {\r\n  const { username } = useParams()\r\n  const [user, setUser] = useState({ username: '', profilePicture: '', followed: [], following: [], bookmarks: [] })\r\n  const [ownRecipes, setOwnRecipes] = useState([])\r\n  const [bookmarkedRecipes, setBookmarkedRecipes]\t= useState([])\r\n\r\n  useEffect(() => {\r\n    const fetchData = () => {\r\n      getUserInfo(username).then(result => {\r\n        setUser(result)\r\n      })\r\n      getRecipes(username).then(result => {\r\n        setOwnRecipes(result)\r\n      })\r\n\r\n      const token = localStorage.getItem('token')\r\n\r\n      if (token) {\r\n        getBookmarkedRecipes(token, username).then(result => {\r\n          setBookmarkedRecipes(result)\r\n        })\r\n      }\r\n    }\r\n    fetchData()\r\n  }, [username])\r\n\r\n  const setPicture = () => {\r\n    if (user.profilePicture === '') {\r\n      return '/assets/profilePictures/anonymous.png'\r\n    }\r\n    else {\r\n      return `data:image/jpeg;base64,${user.profilePicture}`\r\n    }\r\n  }\r\n\r\n  return (  \r\n    <React.Fragment>\r\n      <div style={{height:'1em', background:'transparent'}}></div>\r\n      <Card className='profile-card' >\r\n        <Card.Body>\r\n          <img className='profile-card-img rounded-circle' alt='' src={setPicture()}></img>\r\n          <Card.Title className='profile-title'>{user.username}</Card.Title>\r\n          <Tabs className='profile-tabs'>\r\n            <Tab className='profile-tab' eventKey={1} title={`Recipes (${ownRecipes.length})`}>\r\n              <ProfileRecipeList recipes={ownRecipes} />\r\n            </Tab>\r\n            <Tab className='profile-tab' eventKey={2} title={`Bookmarked (${bookmarkedRecipes.length})`}>\r\n              <ProfileRecipeList recipes={bookmarkedRecipes} />\r\n            </Tab>\r\n            {/*<Tab className='profile-tab test' eventKey={3} title={`Following (${following.length})`}>\r\n              <FollowedList following={following} />\r\n            </Tab>*/}\r\n          </Tabs>\r\n        </Card.Body>\r\n      </Card>\r\n    </React.Fragment>\r\n  )\r\n}\r\n\r\nexport default withRouter(UserProfile)\r\n","import React from 'react'\r\nimport {\r\n  BrowserRouter as Router,\r\n  Switch,\r\n  Route\r\n} from 'react-router-dom'\r\nimport 'bootstrap/dist/css/bootstrap.min.css'\r\nimport { Container } from 'react-bootstrap'\r\nimport './css/App.css'\r\nimport Settings from './components/Settings'\r\nimport NavigationBar from './components/NavigationBar'\r\nimport CreateRecipe from './components/CreateRecipe'\r\nimport PrivacyPolicy from './components/PrivacyPolicy'\r\nimport TermsOfService from './components/Terms'\r\nimport Recipe from './components/Recipe'\r\nimport Home from './components/Home'\r\nimport UserProfile from './components/UserProfile'\r\n\r\nconst About = () => (\r\n  <div>\r\n    <h2>About</h2>\r\n  </div>\r\n)\r\n\r\nconst App = () => {\r\n  return(\r\n    <Router>\r\n      <NavigationBar/>\r\n      <div className='global-background'>\r\n        <Container>\r\n          <Switch>\r\n            <Route exact path='/' component={Home} />\r\n            <Route path='/search=:searchWords' component={Home} />\r\n            <Route path='/about' component={About} />\r\n            <Route path='/create-recipe' component={CreateRecipe} />\r\n            <Route path='/settings' component={Settings} />\r\n            <Route path='/privacy' component={PrivacyPolicy} />\r\n            <Route path='/terms' component={TermsOfService} />\r\n            <Route path='/recipe/:recipeID' component={Recipe} />\r\n            <Route path='/user/:username' component={UserProfile}/>\r\n          </Switch>\r\n        </Container>\r\n        <div style={{height:'10em', background:'transparent'}}></div>\r\n      </div>\r\n    </Router>\r\n  )\r\n}\r\n\r\nexport default App","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport './index.css'\r\nimport App from './App'\r\nimport \"bootstrap/dist/css/bootstrap.min.css\"\r\n\r\nReactDOM.render(<App />, document.getElementById('root'))\r\n"],"sourceRoot":""}